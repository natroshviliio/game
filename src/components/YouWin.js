import React, { useEffect, useState } from 'react'

const YouWin = () => {
    const [screenWin, setScreenWin] = useState(false);

    const dialog = [
        {
            id: 1,
            text: `áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¤áƒ˜áƒ¥áƒ áƒáƒ‘áƒ— áƒ áƒáƒ› áƒ©áƒ”áƒ›áƒ˜ áƒ“áƒáƒ›áƒáƒ áƒªáƒ®áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒáƒ—?
            áƒ¤áƒ˜áƒ¥áƒ áƒáƒ‘áƒ— áƒ áƒáƒ› áƒ’áƒáƒ˜áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ—? ðŸ˜ˆ`,
            class: "youwin_death"
        },
        {
            id: 2,
            text: `áƒ¨áƒ”áƒœ áƒ¬áƒáƒ›áƒáƒ áƒ—áƒ•áƒ˜ áƒ¡áƒ£áƒšáƒ˜ áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒáƒ  áƒ’áƒ”áƒ™áƒ£áƒ—áƒ•áƒœáƒáƒ“áƒ,
            áƒ¡áƒáƒ›áƒáƒ áƒ—áƒšáƒ˜áƒáƒœ áƒ—áƒáƒ›áƒáƒ¨áƒ¡ áƒžáƒ˜áƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ›áƒáƒ’áƒ áƒáƒ› áƒ—áƒáƒ•áƒáƒ“ áƒ®áƒáƒ  áƒ£áƒ¡áƒáƒ›áƒáƒ áƒ—áƒšáƒ ðŸ˜¡`,
            class: "youwin_he"
        },
        {
            id: 3,
            text: `áƒ¨áƒ”áƒœ áƒ”áƒ áƒ—áƒáƒ“áƒ”áƒ áƒ—áƒ˜ áƒáƒ  áƒ®áƒáƒ  áƒ•áƒ˜áƒœáƒª áƒ“áƒáƒ•áƒáƒ›áƒáƒ áƒªáƒ®áƒ” ðŸ’…`,
            class: "youwin_she"
        },
        {
            id: 4,
            text: `áƒ°áƒáƒ°áƒáƒ°áƒðŸ˜‚... áƒ¡áƒáƒªáƒáƒ“áƒáƒ•áƒ”áƒ‘áƒ, áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ¡áƒ˜áƒªáƒáƒªáƒ®áƒšáƒ” áƒ©áƒ”áƒ›áƒ¡ áƒ®áƒ”áƒšáƒ¨áƒ˜áƒ,
            áƒáƒ  áƒ“áƒáƒ’áƒáƒ•áƒ˜áƒ¬áƒ§áƒ“áƒ”áƒ— áƒ áƒáƒ› áƒ¯áƒ”áƒ  áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ©áƒ”áƒ›áƒ¡ áƒ¡áƒáƒ‘áƒ§áƒ áƒáƒ‘áƒ˜áƒšáƒ”áƒ¨áƒ˜ áƒ˜áƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ˜áƒ—!
            áƒ’áƒ’áƒáƒœáƒ˜áƒáƒ— áƒ’áƒáƒ’áƒ˜áƒ¨áƒ•áƒ”áƒ‘áƒ—?ðŸ˜ˆ`,
            class: "youwin_death"
        },
        {
            id: 5,
            text: `áƒ¨áƒ”áƒœ áƒáƒ  áƒ¨áƒ”áƒ’áƒ¬áƒ”áƒ•áƒ¡ áƒ«áƒáƒšáƒ áƒ áƒáƒ› áƒ¨áƒ”áƒ’áƒ•áƒáƒ™áƒáƒ•áƒ, áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ“áƒáƒœáƒ”áƒ‘áƒ“áƒ˜ áƒ“áƒ áƒ›áƒ˜áƒ˜áƒ¦áƒ” áƒ“áƒáƒ›áƒáƒ áƒªáƒ®áƒ”áƒ‘áƒðŸ¤ðŸ™.`,
            class: "youwin_he"
        },
        {
            id: 6,
            text: `áƒ›áƒáƒ¡ áƒáƒ  áƒ¨áƒ”áƒ£áƒ«áƒšáƒ˜áƒ áƒ›áƒ˜áƒ›áƒ¦áƒ”áƒ‘áƒšáƒáƒ‘áƒ, áƒ˜áƒ¡ áƒ—áƒáƒ•áƒáƒ“ áƒáƒ áƒ˜áƒ¡ áƒ¡áƒáƒªáƒáƒ“áƒáƒ•áƒ˜...ðŸ˜ª`,
            class: "youwin_she"
        },
        {
            id: 7,
            text: `áƒáƒ áƒ, áƒ•áƒ˜áƒªáƒ˜ áƒ áƒáƒ› áƒ’áƒ”áƒ¨áƒ˜áƒœáƒ˜áƒáƒ—! áƒ•áƒ®áƒ”áƒ“áƒáƒ• áƒ—áƒ¥áƒ•áƒ”áƒœáƒ¡ áƒ—áƒ•áƒáƒšáƒ”áƒ‘áƒ¨áƒ˜ áƒ›áƒ¦áƒ”áƒšáƒ•áƒáƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒ¨áƒ˜áƒ¨áƒ˜ áƒ áƒáƒ’áƒáƒ  áƒ’áƒ­áƒáƒ›áƒ— áƒœáƒ”áƒš-áƒœáƒ”áƒšáƒ,
            áƒ˜áƒ›áƒ”áƒ“áƒ˜ áƒáƒ  áƒ’áƒ¥áƒáƒœáƒ“áƒ”áƒ— áƒ áƒáƒ› áƒ“áƒáƒ’áƒ˜áƒœáƒ“áƒáƒ‘áƒ—!ðŸ‘¿`,
            class: "youwin_death"
        },
        {
            id: 8,
            text: `áƒ”áƒ¡ áƒ¨áƒ˜áƒ¨áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ®áƒ”áƒ“áƒ•áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡, áƒ¨áƒ£áƒ áƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¨áƒ”áƒœáƒ¡áƒ™áƒ”áƒœ áƒáƒ áƒ˜áƒ¡ áƒ›áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ›áƒáƒ¡ áƒ•áƒ”áƒ  áƒ¨áƒ”áƒáƒ™áƒáƒ•áƒ”áƒ‘ðŸ˜¤.`,
            class: "youwin_he"
        },
        {
            id: 9,
            text: `áƒ›áƒáƒ¨áƒ˜áƒœ áƒ›áƒ˜áƒ—áƒ®áƒáƒ áƒ˜ áƒ’áƒ”áƒœáƒ˜áƒáƒ¡áƒ, áƒ—áƒ£ áƒáƒ áƒáƒ¤áƒ áƒ˜áƒ¡ áƒ’áƒ”áƒ¨áƒ˜áƒœáƒ˜áƒ áƒ“áƒ áƒ—áƒ£áƒ™áƒ˜ áƒ©áƒ”áƒ›áƒ–áƒ” áƒ¨áƒ£áƒ áƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒáƒ¡ áƒáƒžáƒ˜áƒ áƒ”áƒ‘áƒ—,
            áƒ“áƒ áƒ—áƒ£ áƒ™áƒ˜ áƒ”áƒ¡ áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“ áƒ›áƒáƒ®áƒ“áƒ”áƒ‘áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¯áƒáƒ¯áƒáƒ®áƒ”áƒ—áƒ˜áƒ“áƒáƒœ áƒáƒ›áƒáƒ®áƒ•áƒáƒšáƒ— áƒ’áƒ’áƒáƒœáƒ˜áƒáƒ— áƒ˜áƒ¡áƒ”áƒ• áƒ˜áƒ¡áƒ”áƒ—áƒ”áƒ‘áƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ˜áƒ— 
            áƒ áƒáƒ’áƒáƒ áƒ”áƒ‘áƒ˜áƒª áƒáƒ¥áƒáƒ›áƒ“áƒ” áƒ§áƒáƒ¤áƒ˜áƒšáƒ®áƒáƒ áƒ—?ðŸ‘¿`,
            class: "youwin_death"
        },
        {
            id: 10,
            text: `áƒ•áƒ˜áƒªáƒ˜ áƒ áƒáƒ› áƒ¨áƒ”áƒ•áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ˜áƒ—, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ”áƒ¡ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ’áƒáƒ’áƒ•áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡, áƒ¨áƒ”áƒœ áƒáƒ  áƒ®áƒáƒ  áƒ”áƒ áƒ—áƒáƒ“áƒ”áƒ áƒ—áƒ˜
            áƒ¡áƒ˜áƒ™áƒ•áƒ“áƒ˜áƒšáƒ˜áƒšáƒ¡ áƒáƒœáƒ’áƒ”áƒšáƒáƒ–áƒ˜ áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒªáƒ“áƒ˜áƒšáƒáƒ‘áƒ¡ áƒ áƒáƒ› áƒªáƒáƒªáƒ®áƒáƒš áƒ¡áƒ£áƒšáƒ”áƒ‘áƒ¡ áƒ“áƒáƒ”áƒžáƒáƒ¢áƒ áƒáƒœáƒáƒ¡, áƒ¨áƒ”áƒœ áƒ˜áƒ› áƒ›áƒ áƒáƒ•áƒáƒšáƒ—áƒáƒ’áƒáƒœáƒ˜ áƒ®áƒáƒ  áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¯áƒ”áƒ 
            áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ©áƒ•áƒ”áƒœáƒ¡ áƒ¡áƒ˜áƒáƒ¨áƒ˜ áƒáƒ áƒ˜áƒáƒœ.`,
            class: "youwin_he"
        },
        {
            id: 11,
            text: `áƒ›áƒ’áƒáƒœáƒ˜ áƒ“áƒ áƒáƒ áƒ“áƒáƒáƒ¡áƒ áƒ£áƒšáƒ áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ áƒ˜áƒ¥ áƒ¡áƒáƒ“áƒáƒª áƒ¨áƒ”áƒœáƒ˜ áƒáƒ“áƒ’áƒ˜áƒšáƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡! ðŸˆµ`,
            class: "youwin_she"
        },
        {
            id: 12,
            text: `áƒ›áƒáƒ˜áƒªáƒ áƒ áƒ? áƒ¡áƒ˜áƒ™áƒ•áƒ“áƒ˜áƒšáƒ˜áƒ¡ áƒ áƒ£áƒœáƒ áƒ¡áƒ˜áƒ“áƒáƒœ áƒ’áƒáƒ¥áƒ•áƒ¡ ðŸ’€`,
            class: "youwin_death"
        },
        {
            id: 13,
            text: `áƒ”áƒ¡ áƒ›áƒáƒ¨áƒ˜áƒœ áƒ›áƒáƒ•áƒ˜áƒžáƒáƒ•áƒ” áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœáƒ˜ áƒ«áƒ›áƒ, áƒáƒ áƒáƒ¬áƒ˜áƒ áƒ“áƒáƒ•áƒáƒ›áƒáƒ áƒªáƒ®áƒ”.ðŸ¤—`,
            class: "youwin_she"
        },
        {
            id: 14,
            text: `áƒ¨áƒ”áƒ£áƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ, áƒ©áƒ”áƒ›áƒ¡ áƒ«áƒ›áƒ áƒ¡áƒ˜áƒ™áƒ•áƒ“áƒ˜áƒšáƒ˜áƒ¡ áƒ›áƒ—áƒáƒ•áƒáƒ  áƒáƒœáƒ’áƒ”áƒšáƒáƒ–áƒ—áƒáƒœ áƒ•áƒáƒšáƒ¨áƒ˜ áƒ˜áƒ§áƒ, áƒ—áƒ£ áƒ˜áƒ¡ áƒ›áƒáƒ™áƒ•áƒ“áƒ áƒ”áƒ¡áƒ”áƒ˜áƒ’áƒ˜ áƒ˜áƒ¡ áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒáƒ“ áƒ’áƒáƒ¥áƒ áƒ áƒ¡áƒáƒ›áƒ§áƒáƒ áƒáƒ“áƒáƒœ ðŸ˜®`,
            class: "youwin_death"
        },
        {
            id: 15,
            text: `áƒ¨áƒ”áƒ£áƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒáƒ› áƒ¡áƒáƒ›áƒ§áƒáƒ áƒáƒ¨áƒ˜ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ‘áƒáƒ ðŸˆµ`,
            class: "youwin_she"
        },
        {
            id: 16,
            text: `-áƒ¨áƒ”áƒœ áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘ áƒ áƒ£áƒœáƒáƒ¡ áƒ¡áƒ˜áƒ™áƒ•áƒ“áƒ˜áƒšáƒ˜áƒ¡ áƒáƒœáƒ’áƒ”áƒšáƒáƒ–áƒ˜áƒ¡, áƒ’áƒáƒ˜áƒáƒ–áƒ˜áƒ¡ áƒ’áƒáƒ¡áƒáƒœáƒáƒ“áƒ’áƒ£áƒ áƒ”áƒ‘áƒšáƒáƒ“`,
            class: "youwin_she"
        },
        {
            id: 17,
            text: `Gaiozi defeated, you win.`,
            class: "youwin_death"
        },
    ]

    const [showDialog, setShowDialog] = useState([]);

    const [int, setInt] = useState(0);
    useEffect(() => {
        let interval;
        let interval2;
        if (int < dialog.length) {
            interval = setInterval(() => {
                const _dialog = [...showDialog, {
                    ...dialog[int],
                    text: "",
                }];
                const _dialogText = dialog[int].text;
                let symbolCounter = 0;
                interval2 = setInterval(() => {
                    if (symbolCounter < _dialogText.length) {
                        _dialog.find(x => x.id === dialog[int].id).text += _dialogText[symbolCounter];
                        symbolCounter++;
                        if (int + 1 > 6) {
                            setShowDialog([..._dialog].filter((x, i) => i > 0));
                        } else {
                            setShowDialog([..._dialog]);
                        }
                    } else {
                        clearInterval(interval2);
                    }
                }, 7000 / _dialogText.length);
                setInt(int + 1);
                if (int + 1 > 6) {
                    setShowDialog([..._dialog].filter((x, i) => i > 0));
                } else {
                    setShowDialog([..._dialog]);
                }
            }, 8000);
        } if (int === dialog.length) {
            setTimeout(() => {
                setScreenWin(true)
            }, 8000);
        }

        return () => clearInterval(interval);
    }, [int]);


    return (
        <div className="youwin">
            {!screenWin && (
                <div className="youwin_dialog_container">
                    {showDialog.length > 0 && showDialog.map((x, i) => {
                        return (
                            <div key={i} className="youwin_dialog">
                                <div className={x?.class}></div>
                                {x?.text}
                            </div>
                        )
                    })}
                </div>
            )}
            {screenWin && (
                <div className="screenwin">
                    You Win!
                </div>
            )}
        </div>
    )
}

export default YouWin